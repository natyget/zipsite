<% const currentSection = typeof section !== 'undefined' ? section : 'account'; %>

<div class="settings-container">
  <div class="settings-header">
    <h1 class="settings-title">Settings</h1>
    <p class="settings-subtitle">Manage your account and preferences</p>
  </div>

  <div class="settings-layout">
    <!-- Settings Navigation Sidebar -->
    <aside class="settings-nav">
      <nav class="settings-nav__list">
        <a href="/dashboard/settings/account" class="settings-nav__item <%= currentSection === 'account' ? 'is-active' : '' %>">
          <svg class="settings-nav__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 8C9.10457 8 10 7.10457 10 6C10 4.89543 9.10457 4 8 4C6.89543 4 6 4.89543 6 6C6 7.10457 6.89543 8 8 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 10C6.34315 10 4 10.8954 4 12V13H12V12C12 10.8954 9.65685 10 8 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Account</span>
        </a>
        <a href="/dashboard/settings/profile" class="settings-nav__item <%= currentSection === 'profile' ? 'is-active' : '' %>">
          <svg class="settings-nav__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.3333 2H4.66667C3.74619 2 3 2.74619 3 3.66667V12.3333C3 13.2538 3.74619 14 4.66667 14H11.3333C12.2538 14 13 13.2538 13 12.3333V3.66667C13 2.74619 12.2538 2 11.3333 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M5.33333 6H10.6667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M5.33333 9.33333H10.6667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Profile</span>
        </a>
        <a href="/dashboard/settings/notifications" class="settings-nav__item <%= currentSection === 'notifications' ? 'is-active' : '' %>">
          <svg class="settings-nav__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 2C5.79086 2 4 3.79086 4 6V9.33333L2 12H14L12 9.33333V6C12 3.79086 10.2091 2 8 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 14C8.55228 14 9 13.5523 9 13H7C7 13.5523 7.44772 14 8 14Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Notifications</span>
        </a>
        <a href="/dashboard/settings/privacy" class="settings-nav__item <%= currentSection === 'privacy' ? 'is-active' : '' %>">
          <svg class="settings-nav__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 2L2 5.33333V8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8V5.33333L8 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 10.6667V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 6H8.00667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Privacy</span>
        </a>
        <% if (typeof profile !== 'undefined' && profile && !profile.is_pro) { %>
          <a href="/dashboard/settings/billing" class="settings-nav__item <%= currentSection === 'billing' ? 'is-active' : '' %>">
            <svg class="settings-nav__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M2 4H14V12H2V4Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 6H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M5 9H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Billing</span>
          </a>
        <% } %>
      </nav>
    </aside>

    <!-- Settings Content -->
    <main class="settings-content">
      <% if (currentSection === 'account') { %>
        <%- include('account') %>
      <% } else if (currentSection === 'profile') { %>
        <%- include('profile') %>
      <% } else if (currentSection === 'notifications') { %>
        <%- include('notifications') %>
      <% } else if (currentSection === 'privacy') { %>
        <%- include('privacy') %>
      <% } else if (currentSection === 'billing') { %>
        <%- include('billing') %>
      <% } else { %>
        <%- include('account') %>
      <% } %>
    </main>
  </div>
</div>

