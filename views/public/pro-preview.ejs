<!-- Editorial Header: Compact and elegant -->
<section class="demo-header" id="demo-header">
  <div class="demo-header__container">
    <span class="demo-header__badge">Studio+</span>
    <h1 class="demo-header__headline">
      <span class="demo-header__headline-fashion">Experience Studio+.</span>
      <span class="demo-header__headline-ai">Editorial quality. Zero compromises.</span>
    </h1>
    <p class="demo-header__subheadline">Everything you need for a professional portfolio. Try it yourself below.</p>
    <div class="demo-header__pricing">
      <span class="demo-header__pricing-amount">$9.99<span class="demo-header__pricing-period">/month</span></span>
      <span class="demo-header__pricing-trial">14-day free trial</span>
      <span class="demo-header__pricing-note">Upgrade anytime</span>
    </div>
    <div class="demo-header__accent"></div>
  </div>
</section>

<!-- Split-Screen Interactive Showcase -->
<section class="demo-showcase" id="demo-showcase">
  <div class="demo-showcase__container">
    <div class="demo-showcase__layout">
      
      <!-- Left Column: Pro Live Portfolio -->
      <div class="demo-portfolio-preview">
        <div class="demo-portfolio-preview__header">
          <div class="demo-portfolio-preview__title-group">
            <h2 class="demo-portfolio-preview__title">Studio+ Live Portfolio</h2>
            <div class="demo-portfolio-preview__badges">
              <span class="demo-portfolio-preview__badge demo-portfolio-preview__badge--pro">No Branding</span>
              <span class="demo-portfolio-preview__badge demo-portfolio-preview__badge--pro">Custom Domain</span>
              <span class="demo-portfolio-preview__badge demo-portfolio-preview__badge--pro">Full Analytics</span>
            </div>
            <p class="demo-portfolio-preview__try-text">Try it yourself â€” interact with the live portfolio below</p>
          </div>
          <div class="demo-portfolio-preview__controls">
            <button class="demo-portfolio-preview__control-btn" data-view="desktop" aria-label="Desktop view">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
            </button>
            <button class="demo-portfolio-preview__control-btn" data-view="tablet" aria-label="Tablet view">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12.01" y2="18"></line>
              </svg>
            </button>
            <button class="demo-portfolio-preview__control-btn" data-view="mobile" aria-label="Mobile view">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12.01" y2="18"></line>
              </svg>
            </button>
          </div>
        </div>
        
        <div class="demo-portfolio-preview__frame" id="portfolio-preview-frame">
          <div class="demo-portfolio-preview__iframe-wrapper">
            <iframe 
              src="/portfolio/elara-k" 
              class="demo-portfolio-preview__iframe"
              title="Studio+ Portfolio Preview"
              loading="lazy"
              allow="fullscreen"
              onerror="this.onerror=null; this.src='about:blank'; this.parentElement.innerHTML='<div style=\'padding: 2rem; text-align: center; color: #666;\'><p>Portfolio preview unavailable</p><p style=\'font-size: 0.9rem; margin-top: 0.5rem;\'>The demo portfolio is not available at this time.</p></div>';">
            </iframe>
            <div class="demo-portfolio-preview__iframe-error" id="portfolio-iframe-error" style="display: none; padding: 2rem; text-align: center; color: #666;">
              <p>Portfolio preview unavailable</p>
              <p style="font-size: 0.9rem; margin-top: 0.5rem;">The demo portfolio is not available at this time.</p>
              <a href="/apply" class="button button-secondary" style="margin-top: 1rem; display: inline-block;">Create Your Own Portfolio</a>
            </div>
          </div>
          <div class="demo-portfolio-preview__overlay">
            <div class="demo-portfolio-preview__url-display">
              <span class="demo-portfolio-preview__url-label">Share URL:</span>
              <code class="demo-portfolio-preview__url" id="portfolio-url">pholio.me/elara-k</code>
              <button class="demo-portfolio-preview__copy-btn" id="copy-portfolio-url" aria-label="Copy URL">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
        
        <div class="demo-portfolio-preview__actions">
          <a href="/portfolio/elara-k" target="_blank" rel="noopener" class="demo-portfolio-preview__action-btn button button-primary">
            Open Full Portfolio
          </a>
        </div>
      </div>

      <!-- Right Column: Why Pro? Feature Highlights -->
      <div class="demo-why-pro">
        <div class="demo-why-pro__header">
          <h2 class="demo-why-pro__title">Why Studio+?</h2>
          <p class="demo-why-pro__subtitle">Everything you need for professional representation</p>
        </div>
        
        <div class="demo-why-pro__features">
          <div class="demo-why-pro__feature">
            <div class="demo-why-pro__feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
            </div>
            <div class="demo-why-pro__feature-content">
              <h3 class="demo-why-pro__feature-title">Custom Branding</h3>
              <p class="demo-why-pro__feature-description">No watermarks. Full control over colors, fonts, and branding. Make it truly yours.</p>
            </div>
          </div>
          
          <div class="demo-why-pro__feature">
            <div class="demo-why-pro__feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
              </svg>
            </div>
            <div class="demo-why-pro__feature-content">
              <h3 class="demo-why-pro__feature-title">Custom Domain</h3>
              <p class="demo-why-pro__feature-description">Your own branded link: <strong>yourname.pholio.com</strong>. Share with confidence.</p>
            </div>
          </div>
          
          <div class="demo-why-pro__feature">
            <div class="demo-why-pro__feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
              </svg>
            </div>
            <div class="demo-why-pro__feature-content">
              <h3 class="demo-why-pro__feature-title">Full Analytics</h3>
              <p class="demo-why-pro__feature-description">Track views, downloads, and engagement with comprehensive analytics dashboard.</p>
            </div>
          </div>
          
          <div class="demo-why-pro__feature">
            <div class="demo-why-pro__feature-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
              </svg>
            </div>
            <div class="demo-why-pro__feature-content">
              <h3 class="demo-why-pro__feature-title">Priority AI Processing</h3>
              <p class="demo-why-pro__feature-description">Faster processing, enhanced refinement. Your portfolio gets curated first.</p>
            </div>
          </div>
        </div>
        
        <div class="demo-why-pro__cta">
          <a href="#pdf-themes" class="demo-why-pro__link">View Premium PDF Themes â†“</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Section -->
<section class="demo-pricing-section" id="demo-pricing">
  <div class="demo-pricing-section__container">
    <div class="demo-pricing-section__card">
      <div class="demo-pricing-section__header">
        <div class="demo-pricing-section__badge">Studio+</div>
        <div class="demo-pricing-section__price">
          <span class="demo-pricing-section__currency">$</span>
          <span class="demo-pricing-section__amount">9.99</span>
          <span class="demo-pricing-section__period">/month</span>
        </div>
        <div class="demo-pricing-section__trial">14-day free trial</div>
        <p class="demo-pricing-section__tagline">The professional standard for working talent and agencies.</p>
      </div>
      
      <div class="demo-pricing-section__features">
        <div class="demo-pricing-section__feature-item">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          <span>Custom URL & Branding</span>
        </div>
        <div class="demo-pricing-section__feature-item">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          <span>Premium PDF Themes</span>
        </div>
        <div class="demo-pricing-section__feature-item">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          <span>Full Analytics Suite</span>
        </div>
        <div class="demo-pricing-section__feature-item">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          <span>Priority AI Processing</span>
        </div>
        <div class="demo-pricing-section__feature-item">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          <span>Video Reels Support</span>
        </div>
      </div>
      
      <% if (typeof currentUser !== 'undefined' && currentUser) { %>
        <button id="start-trial-btn-pro" class="demo-pricing-section__cta button button-primary">Start 14-Day Free Trial</button>
      <% } else { %>
        <a href="/pro/upgrade" class="demo-pricing-section__cta button button-primary">Start 14-Day Free Trial</a>
      <% } %>
      <p class="demo-pricing-section__note">Credit card required. Cancel anytime.</p>
    </div>
  </div>
</section>

<!-- Interactive Comparison Section -->
<section class="demo-comparison" id="demo-comparison">
  <div class="demo-comparison__container">
    <div class="demo-comparison__header">
      <h2 class="demo-comparison__title">Free vs Studio+</h2>
      <p class="demo-comparison__subtitle">See the difference that makes Studio+ the professional standard</p>
    </div>
    
    <div class="demo-comparison__grid">
      <div class="comparison-card">
        <div class="comparison-card__icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="2" y1="12" x2="22" y2="12"></line>
            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
          </svg>
        </div>
        <div class="comparison-card__title">Custom URL</div>
        <div class="comparison-card__free">Default URL<br><small>pholio.com/portfolio/yourname</small></div>
        <div class="comparison-card__pro">Custom URL<br><small>yourname.pholio.com</small></div>
      </div>
      
      <div class="comparison-card">
        <div class="comparison-card__icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
        </div>
        <div class="comparison-card__title">Branding</div>
        <div class="comparison-card__free">Default Branding<br><small>Watermark, Pholio colors</small></div>
        <div class="comparison-card__pro">Custom Branding<br><small>No watermarks, full control</small></div>
      </div>
      
      <div class="comparison-card">
        <div class="comparison-card__icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
          </svg>
        </div>
        <div class="comparison-card__title">Analytics</div>
        <div class="comparison-card__free">Basic Analytics<br><small>Limited data</small></div>
        <div class="comparison-card__pro">Full Analytics<br><small>Advanced tracking</small></div>
      </div>
      
      <div class="comparison-card">
        <div class="comparison-card__icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="9" y1="3" x2="9" y2="21"></line>
          </svg>
        </div>
        <div class="comparison-card__title">PDF Themes</div>
        <div class="comparison-card__free">3 themes<br><small>With watermark</small></div>
        <div class="comparison-card__pro">4+ premium themes<br><small>Full customization</small></div>
      </div>
      
      <div class="comparison-card">
        <div class="comparison-card__icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
          </svg>
        </div>
        <div class="comparison-card__title">AI Processing</div>
        <div class="comparison-card__free">Standard</div>
        <div class="comparison-card__pro">Priority</div>
      </div>
    </div>
  </div>
</section>

<!-- PDF Customization Showcase Section (Pro Features) -->
<section class="demo-customization" id="demo-customization">
  <div class="demo-customization__container">
    <div class="demo-customization__header">
      <h2 class="demo-customization__title">Studio+ PDF Customization</h2>
      <p class="demo-customization__subtitle">Full control over fonts, colors, layouts, and branding</p>
    </div>
    
    <div class="demo-customization__grid">
      <div class="demo-customization__feature">
        <div class="demo-customization__feature-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="4 7 4 4 20 4 20 7"></polyline>
            <line x1="9" y1="20" x2="15" y2="20"></line>
            <line x1="12" y1="4" x2="12" y2="20"></line>
          </svg>
        </div>
        <h3 class="demo-customization__feature-title">Custom Fonts</h3>
        <p class="demo-customization__feature-description">Choose from 20+ curated Google Fonts for name, bio, and stats. Perfect typography for every style.</p>
      </div>
      
      <div class="demo-customization__feature">
        <div class="demo-customization__feature-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="13.5" cy="6.5" r=".5" fill="currentColor"></circle>
            <circle cx="17.5" cy="10.5" r=".5" fill="currentColor"></circle>
            <circle cx="8.5" cy="7.5" r=".5" fill="currentColor"></circle>
            <circle cx="6.5" cy="12.5" r=".5" fill="currentColor"></circle>
            <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"></path>
          </svg>
        </div>
        <h3 class="demo-customization__feature-title">Color Palettes</h3>
        <p class="demo-customization__feature-description">Customize background, text, and accent colors. Use preset palettes or create your own.</p>
      </div>
      
      <div class="demo-customization__feature">
        <div class="demo-customization__feature-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="9" y1="3" x2="9" y2="21"></line>
            <line x1="15" y1="3" x2="15" y2="21"></line>
            <line x1="3" y1="9" x2="21" y2="9"></line>
            <line x1="3" y1="15" x2="21" y2="15"></line>
          </svg>
        </div>
        <h3 class="demo-customization__feature-title">Layout Control</h3>
        <p class="demo-customization__feature-description">Adjust header position, image grid, bio placement, and stats positioning for the perfect layout.</p>
      </div>
      
      <div class="demo-customization__feature">
        <div class="demo-customization__feature-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <circle cx="8.5" cy="8.5" r="1.5"></circle>
            <polyline points="21 15 16 10 5 21"></polyline>
          </svg>
        </div>
        <h3 class="demo-customization__feature-title">Agency Branding</h3>
        <p class="demo-customization__feature-description">Upload your agency logo or use a URL. Place it anywhere with customizable size and position.</p>
      </div>
    </div>
    
    <div class="demo-customization__cta">
      <a href="/pro/upgrade" class="button button-primary">Upgrade to Studio+</a>
      <a href="/pricing" class="button button-secondary">View Pricing</a>
    </div>
  </div>
</section>

<!-- PDF Themes Section (Simplified) -->
<section class="demo-pdf-themes-section" id="pdf-themes">
  <div class="demo-pdf-themes-section__container">
    <div class="demo-pdf-themes-section__header">
      <h2 class="demo-pdf-themes-section__title">Premium PDF Themes</h2>
      <p class="demo-pdf-themes-section__subtitle">Professional comp card themes for every aesthetic</p>
    </div>
    
    <div class="demo-pdf-themes-section__gallery" id="pdf-themes-gallery">
      <!-- Theme cards will be populated by JavaScript -->
    </div>
    
    <div class="demo-pdf-themes-section__preview" id="pdf-theme-preview">
      <div class="demo-pdf-themes-section__preview-header">
        <div class="demo-pdf-themes-section__preview-title-group">
          <h3 class="demo-pdf-themes-section__preview-title" id="preview-theme-name">Select a theme</h3>
          <p class="demo-pdf-themes-section__preview-subtitle" id="preview-theme-description"></p>
        </div>
        <button class="demo-pdf-themes-section__preview-close" id="close-pdf-preview" aria-label="Close preview" hidden>&times;</button>
      </div>
      <div class="demo-pdf-themes-section__preview-content" id="pdf-preview-content">
        <div class="demo-pdf-themes-section__preview-placeholder">
          <div class="demo-pdf-themes-section__preview-placeholder-icon">ðŸ“„</div>
          <p class="demo-pdf-themes-section__preview-placeholder-text">Click a theme above to preview</p>
        </div>
      </div>
      <div class="demo-pdf-themes-section__preview-actions" id="pdf-preview-actions" hidden>
        <a href="#" class="demo-pdf-themes-section__download-btn button button-primary" id="download-pdf-btn" target="_blank">
          Download Sample PDF
        </a>
        <span class="demo-pdf-themes-section__preview-badge" id="preview-theme-badge"></span>
      </div>
    </div>
  </div>
</section>

<script>
  // Pass theme data to JavaScript
  window.PRO_PREVIEW_THEME_DATA = {
    allThemes: <%- JSON.stringify(typeof allThemes !== 'undefined' ? allThemes : {}) %>,
    freeThemes: <%- JSON.stringify(typeof freeThemes !== 'undefined' ? freeThemes : []) %>,
    proThemes: <%- JSON.stringify(typeof proThemes !== 'undefined' ? proThemes : []) %>,
    demoSlug: '<%= typeof demoSlug !== 'undefined' ? demoSlug : 'elara-k' %>',
    baseUrl: '<%= typeof baseUrl !== 'undefined' ? baseUrl : '' %>'
  };

  // Handle Start Trial button click (for logged-in users)
  const startTrialBtnPro = document.getElementById('start-trial-btn-pro');
  if (startTrialBtnPro) {
    startTrialBtnPro.addEventListener('click', async function() {
      startTrialBtnPro.disabled = true;
      startTrialBtnPro.textContent = 'Processing...';

      try {
        const response = await fetch('/stripe/create-checkout-session', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          credentials: 'same-origin'
        });

        const data = await response.json();

        if (!response.ok) {
          throw new Error(data.error || 'Failed to create checkout session');
        }

        // Redirect to Stripe Checkout
        if (data.url) {
          window.location.href = data.url;
        } else {
          throw new Error('No checkout URL received');
        }
      } catch (error) {
        console.error('[Pro Page] Error starting trial:', error);
        alert('There was an error starting your trial. Please try again or contact support.');
        startTrialBtnPro.disabled = false;
        startTrialBtnPro.textContent = 'Start 14-Day Free Trial';
      }
    });
  }
</script>
<script src="/scripts/pro-preview.js?v=<%= Date.now() %>-<%= Math.random().toString(36).substring(7) %>" defer></script>
