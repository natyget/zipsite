<%
// DO NOT AUTO-FORMAT THIS BLOCK

  // Base data objects
  var elara = (typeof elaraProfile !== 'undefined' && elaraProfile) ? elaraProfile : {};
  var floatingTalentsData = (typeof floatingTalents !== 'undefined' && floatingTalents) ? floatingTalents : [];

  // Image path normalization helper
  function normalizeImagePath(path) {
    if (!path) {
      return 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?auto=format&fit=crop&w=2000&q=90';
    }
    if (path.indexOf('http://') === 0 || path.indexOf('https://') === 0) {
      return path;
    }
    if (path.indexOf('/') === 0) {
      return path;
    }
    return '/' + path;
  }

  // Get hero image for elara
  var elaraHero = (elara && elara.hero_image_path) || null;
  if (!elaraHero && typeof elaraImages !== 'undefined' && Array.isArray(elaraImages) && elaraImages.length > 0) {
    elaraHero = elaraImages[0].path;
  }
  if (!elaraHero) {
    elaraHero = 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?auto=format&fit=crop&w=2000&q=90';
  }

  // Get gallery images for elara
  var galleryImages = [];
  if (typeof elaraImages !== 'undefined' && Array.isArray(elaraImages)) {
    galleryImages = elaraImages.slice(1, 5);
  }
  if (!galleryImages || galleryImages.length === 0) {
    galleryImages = [
      { path: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=900&q=80' },
      { path: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=900&q=80' },
      { path: 'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?auto=format&fit=crop&w=900&q=80' },
      { path: 'https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?auto=format&fit=crop&w=900&q=80' }
    ];
  }

  // Build talent data for transformation hero with realistic placeholders
  var heroTalent = {
    first_name: elara.first_name || 'Elara',
    last_name: elara.last_name || 'Keats',
    city: elara.city || 'Los Angeles, CA',
    slug: elara.slug || 'elara-k',
    hero_image: normalizeImagePath(elaraHero),
    height_cm: elara.height_cm || 180,
    measurements: elara.measurements || '32-25-35',
    bio_raw: elara.bio_raw || 'hey! so i\'m elara, 23 years old, from LA. i do modeling - mostly fashion and some commercial stuff. love working with photographers and trying new creative projects. i\'m 5\'11, measurements are like 32-24-34 i think? available for bookings, feel free to reach out! instagram: @elarakeats',
    bio_curated: elara.bio_curated || 'Elara Keats embodies the modern editorial aesthetic, seamlessly blending high-fashion sophistication with commercial versatility. Her striking presence and commanding frame—standing at 5\'11"—have graced campaigns for luxury brands and editorial spreads in leading fashion publications. Based in Los Angeles, she brings an effortless elegance to every project, whether on set for a Vogue editorial or in front of the camera for a commercial campaign. With a natural ability to adapt to diverse creative visions, Elara consistently delivers performances that capture the essence of contemporary style.',
    gallery_images: galleryImages.slice(0, 4)
  };

  // Format height helper
  function formatHeight(heightCm) {
    if (!heightCm) return null;
    var feet = Math.floor(heightCm / 30.48);
    var inches = Math.round((heightCm % 30.48) / 2.54);
    return feet + "'" + inches + '"';
  }

  function formatHeightWithCm(heightCm) {
    if (!heightCm) return "5' 11\" / 180cm";
    var feet = Math.floor(heightCm / 30.48);
    var inches = Math.round((heightCm % 30.48) / 2.54);
    return feet + "' " + inches + '" / ' + heightCm + 'cm';
  }

  // Placeholder talent data for featured section (always show 8 items)
  var placeholderTalents = [
    {
      first_name: 'Aiko',
      last_name: 'Ren',
      city: 'Tokyo / New York',
      hero_image: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=900&q=80',
      slug: 'aiko-ren'
    },
    {
      first_name: 'Bianca',
      last_name: 'Cole',
      city: 'Los Angeles',
      hero_image: 'https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=900&q=80',
      slug: 'bianca-cole'
    },
    {
      first_name: 'Cruz',
      last_name: 'Vega',
      city: 'Mexico City',
      hero_image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&fit=crop&w=900&q=80',
      slug: 'cruz-vega'
    },
    {
      first_name: 'Daphne',
      last_name: 'Noor',
      city: 'Amsterdam',
      hero_image: 'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?auto=format&fit=crop&w=900&q=80',
      slug: 'daphne-noor'
    },
    {
      first_name: 'Elena',
      last_name: 'Volkov',
      city: 'Paris',
      hero_image: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=900&q=80',
      slug: 'elena-volkov'
    },
    {
      first_name: 'Finn',
      last_name: 'Murphy',
      city: 'London',
      hero_image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=900&q=80',
      slug: 'finn-murphy'
    },
    {
      first_name: 'Gia',
      last_name: 'Santos',
      city: 'São Paulo',
      hero_image: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=900&q=80',
      slug: 'gia-santos'
    },
    {
      first_name: 'Hugo',
      last_name: 'Andersson',
      city: 'Stockholm',
      hero_image: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&w=900&q=80',
      slug: 'hugo-andersson'
    }
  ];

  // Merge real talents with placeholders, always show 8
  var featuredTalents = [];

  if (elara && elara.slug) {
    featuredTalents.push({
      first_name: elara.first_name || 'Elara',
      last_name: elara.last_name || 'Keats',
      city: elara.city || 'Los Angeles, CA',
      slug: elara.slug || 'elara-k',
      hero_image: normalizeImagePath(elaraHero)
    });
  }

  floatingTalentsData.forEach(function (talent) {
    if (
      talent &&
      talent.slug &&
      (!elara || talent.slug !== elara.slug) &&
      featuredTalents.length < 8
    ) {
      featuredTalents.push({
        first_name: talent.first_name || '',
        last_name: talent.last_name || '',
        city: talent.city || '',
        slug: talent.slug,
        hero_image: normalizeImagePath(talent.hero_image || talent.hero_image_path)
      });
    }
  });

  // Fill with placeholders to reach 8
  while (featuredTalents.length < 8) {
    var placeholder = placeholderTalents[featuredTalents.length % placeholderTalents.length];
    featuredTalents.push(placeholder);
  }

%>
